/*! For license information please see widget.js.LICENSE.txt */
System.register(["jimu-core","jimu-arcgis","esri/portal/Portal","esri/layers/Layer.js","jimu-ui","jimu-core/react","jimu-ui/basic/color-picker"],(function(e,t){var r={},n={},a={},o={},i={},s={},c={};return{setters:[function(e){r.React=e.React},function(e){n.JimuMapViewComponent=e.JimuMapViewComponent},function(e){a.default=e.default},function(e){o.default=e.default},function(e){i.Button=e.Button,i.Card=e.Card,i.CardBody=e.CardBody,i.Dropdown=e.Dropdown,i.DropdownButton=e.DropdownButton,i.DropdownMenu=e.DropdownMenu,i.Tooltip=e.Tooltip},function(e){s.default=e.default,s.useEffect=e.useEffect,s.useState=e.useState},function(e){c.color=e.color}],execute:function(){e((()=>{var e={4184:(e,t)=>{var r;!function(){"use strict";var n={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r)){if(r.length){var i=a.apply(null,r);i&&e.push(i)}}else if("object"===o){if(r.toString!==Object.prototype.toString&&!r.toString.toString().includes("[native code]")){e.push(r.toString());continue}for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(r=function(){return a}.apply(t,[]))||(e.exports=r)}()},7796:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(8081),a=r.n(n),o=r(3645),i=r.n(o)()(a());i.push([e.id,'.gallery-container-my-fav{display:grid;grid-template-columns:1fr 1fr;column-gap:15px;row-gap:15px;width:auto;justify-content:space-between;margin-bottom:70px}.search-bar{border-radius:15px;display:flex;box-shadow:none;width:100%;margin:0px 50px 0px 20px;border:solid #f3f3f3;background-color:rgba(255,255,255,.979);background-image:url("https://upload.wikimedia.org/wikipedia/commons/thumb/0/0b/Search_Icon.svg/750px-Search_Icon.svg.png");text-indent:25px}.widget-body{height:100%;overflow-y:scroll;margin:15px;margin-bottom:100px;padding-bottom:80px}@media(max-width: 500px){.gallery-container-my-fav{grid-template-columns:1fr}}',""]);const s=i},3645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r="",n=void 0!==t[5];return t[4]&&(r+="@supports (".concat(t[4],") {")),t[2]&&(r+="@media ".concat(t[2]," {")),n&&(r+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),r+=e(t),n&&(r+="}"),t[2]&&(r+="}"),t[4]&&(r+="}"),r})).join("")},t.i=function(e,r,n,a,o){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(n)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(i[c]=!0)}for(var l=0;l<e.length;l++){var u=[].concat(e[l]);n&&i[u[0]]||(void 0!==o&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=o),r&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=r):u[2]=r),a&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=a):u[4]="".concat(a)),t.push(u))}},t}},8081:e=>{"use strict";e.exports=function(e){return e[1]}},2703:(e,t,r)=>{"use strict";var n=r(414);function a(){}function o(){}o.resetWarningCache=a,e.exports=function(){function e(e,t,r,a,o,i){if(i!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:a};return r.PropTypes=r,r}},5697:(e,t,r)=>{e.exports=r(2703)()},414:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},3379:e=>{"use strict";var t=[];function r(e){for(var r=-1,n=0;n<t.length;n++)if(t[n].identifier===e){r=n;break}return r}function n(e,n){for(var o={},i=[],s=0;s<e.length;s++){var c=e[s],l=n.base?c[0]+n.base:c[0],u=o[l]||0,d="".concat(l," ").concat(u);o[l]=u+1;var p=r(d),f={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==p)t[p].references++,t[p].updater(f);else{var m=a(f,n);n.byIndex=s,t.splice(s,0,{identifier:d,updater:m,references:1})}i.push(d)}return i}function a(e,t){var r=t.domAPI(t);return r.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;r.update(e=t)}else r.remove()}}e.exports=function(e,a){var o=n(e=e||[],a=a||{});return function(e){e=e||[];for(var i=0;i<o.length;i++){var s=r(o[i]);t[s].references--}for(var c=n(e,a),l=0;l<o.length;l++){var u=r(o[l]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}o=c}}},569:e=>{"use strict";var t={};e.exports=function(e,r){var n=function(e){if(void 0===t[e]){var r=document.querySelector(e);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[e]=r}return t[e]}(e);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(r)}},609:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},3565:(e,t,r)=>{"use strict";e.exports=function(e){var t=r.nc;t&&e.setAttribute("nonce",t)}},7795:e=>{"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(r){!function(e,t,r){var n="";r.supports&&(n+="@supports (".concat(r.supports,") {")),r.media&&(n+="@media ".concat(r.media," {"));var a=void 0!==r.layer;a&&(n+="@layer".concat(r.layer.length>0?" ".concat(r.layer):""," {")),n+=r.css,a&&(n+="}"),r.media&&(n+="}"),r.supports&&(n+="}");var o=r.sourceMap;o&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(n,e,t.options)}(t,e,r)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},4589:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},5139:e=>{"use strict";e.exports=o},9383:e=>{"use strict";e.exports=a},6826:e=>{"use strict";e.exports=n},8891:e=>{"use strict";e.exports=r},1315:e=>{"use strict";e.exports=s},726:e=>{"use strict";e.exports=i},1362:e=>{"use strict";e.exports=c}},t={};function l(r){var n=t[r];if(void 0!==n)return n.exports;var a=t[r]={id:r,exports:{}};return e[r](a,a.exports,l),a.exports}l.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return l.d(t,{a:t}),t},l.d=(e,t)=>{for(var r in t)l.o(t,r)&&!l.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),l.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.p="",l.nc=void 0;var u={};return l.p=window.jimuConfig.baseUrl,(()=>{"use strict";l.r(u),l.d(u,{__set_webpack_public_path__:()=>Q,default:()=>H});var e=l(8891),t=l(6826),r=l(3379),n=l.n(r),a=l(7795),o=l.n(a),i=l(569),s=l.n(i),c=l(3565),d=l.n(c),p=l(609),f=l.n(p),m=l(4589),g=l.n(m),v=l(7796),h={};h.styleTagTransform=g(),h.setAttributes=d(),h.insert=s().bind(null,"head"),h.domAPI=o(),h.insertStyleElement=f(),n()(v.Z,h),v.Z&&v.Z.locals&&v.Z.locals;var y=l(9383),b=l(5139),x=l(726),w=l(1315);function j(){return j=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},j.apply(this,arguments)}function E(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}var O=l(5697),S=l.n(O),C=l(4184),T=l.n(C);function k(e,t){return void 0===e&&(e=""),void 0===t&&(t=undefined),t?e.split(" ").map((function(e){return t[e]||e})).join(" "):e}var M="object"==typeof window&&window.Element||function(){};S().oneOfType([S().string,S().func,function(e,t,r){if(!(e[t]instanceof M))return new Error("Invalid prop `"+t+"` supplied to `"+r+"`. Expected prop to be an instance of Element. Validation failed.")},S().shape({current:S().any})]);var R=S().oneOfType([S().func,S().string,S().shape({$$typeof:S().symbol,render:S().func}),S().arrayOf(S().oneOfType([S().func,S().string,S().shape({$$typeof:S().symbol,render:S().func})]))]);"undefined"==typeof window||!window.document||window.document.createElement;var I=["className","cssModule","tag"],_={tag:R,className:S().string,cssModule:S().object},N=function(e){var t=e.className,r=e.cssModule,n=e.tag,a=E(e,I),o=k(T()(t,"card-title"),r);return w.default.createElement(n,j({},a,{className:o}))};N.propTypes=_,N.defaultProps={tag:"div"};const P=N;var F=["className","cssModule","tag"],A={tag:R,className:S().string,cssModule:S().object},B=function(e){var t=e.className,r=e.cssModule,n=e.tag,a=E(e,F),o=k(T()(t,"card-subtitle"),r);return w.default.createElement(n,j({},a,{className:o}))};B.propTypes=A,B.defaultProps={tag:"div"};const D=B;var L=["className","cssModule","tag"],V={tag:R,className:S().string,cssModule:S().object},W=function(e){var t=e.className,r=e.cssModule,n=e.tag,a=E(e,L),o=k(T()(t,"card-text"),r);return w.default.createElement(n,j({},a,{className:o}))};W.propTypes=V,W.defaultProps={tag:"p"};const z=W;var U=function(e,t,r,n){return new(r||(r=Promise))((function(a,o){function i(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,s)}c((n=n.apply(e,t||[])).next())}))};function q({jimuMapViewObject:e,filterQuery:t,filterFav:r,filterAdded:n,categoriesFilters:a,catFilterStatus:o,groupDetails:i}){const[s,c]=(0,w.useState)([]),[l,u]=(0,w.useState)({}),d=(e,t,r,n)=>U(this,void 0,void 0,(function*(){if(n){const n=yield fetch("https://assets.duravermeer.nl/portal/sharing/rest/content/items/"+r+"/unshare?f=json&token="+e,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"groups="+t});200===n.status&&0==(yield n.json()).notUnsharedFrom.length&&c((e=>e.map((e=>e.item.id===r?Object.assign(Object.assign({},e),{isFav:!1}):e))))}else{const n=yield fetch("https://assets.duravermeer.nl/portal/sharing/rest/content/items/"+r+"/share?f=json&token="+e,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"groups="+t});200===n.status&&0==(yield n.json()).notSharedWith.length&&c((e=>e.map((e=>e.item.id===r?Object.assign(Object.assign({},e),{isFav:!0}):e))))}}));return(0,w.useEffect)((()=>{(()=>{U(this,void 0,void 0,(function*(){const e=new y.default,t=yield e.load();u(t);let r=(yield t.user.queryFavorites()).results.map((e=>e.id));(yield t.queryGroups(i)).results.map((e=>U(this,void 0,void 0,(function*(){if(e.id===i.id||e.id===i.groupID2){let t=100,n={num:100,start:0,sortField:"num-views",sortOrder:"asc"};do{let a=yield e.queryItems(n);try{a.results.map((e=>{if(e.isLayer){const t=b.default.fromPortalItem({portalItem:e});r.includes(e.id)?c((r=>[...r,{item:e,layerView:t,isFav:!0,isAdded:!1}])):c((r=>[...r,{item:e,layerView:t,isFav:!1,isAdded:!1}]))}})),n.start=a.nextQueryParams.start,t=a.results.length}catch(e){console.error("Error fetching items:",e)}}while(100===t)}}))))}))})()}),[]),w.default.createElement(w.default.Fragment,null,e?s.filter((e=>{var r;return e.item.title.toLowerCase().includes(t)||(null===(r=e.item.snippet)||void 0===r?void 0:r.toLowerCase().includes(t))})).filter((e=>{if(!o)return{itemToCheckCat:e};if(e.item.categories.length>=1||e.item.groupCategories.length>=1){let t=e.item.categories.join()+e.item.groupCategories.join();for(let r in a)if(a[r]&&t.includes(r))return e}})).filter((e=>r?!!e.isFav:e)).filter((e=>n?!!e.isAdded:e)).map(((t,r)=>w.default.createElement(x.Card,{key:t.item.id,color:"#f6f6f6",style:{width:"200px",borderRadius:"15px",boxShadow:"2px 2px 0px rgb(243, 243, 243)"}},w.default.createElement("img",{alt:"Thumbnail not available",src:t.item.thumbnailUrl,style:{height:"120px",marginTop:"25px"}}),w.default.createElement(x.CardBody,null,w.default.createElement(P,{tag:"h6",style:{display:"block",height:"3lh",overflow:"hidden"}},t.item.title),w.default.createElement(D,{className:"mb-2 text-muted",tag:"h6"}),w.default.createElement(z,{tag:"h12",style:{height:"1lh"}},w.default.createElement("section",null,w.default.createElement("details",{style:{paddingBottom:"13px",fontSize:"0.8em"}},w.default.createElement("summary",{style:{paddingBottom:"13px",fontSize:"0.8em"}},"Meer details"),t.item.snippet))),w.default.createElement(x.Tooltip,{placement:"bottom",title:t.isAdded?"Laag verwijderen":"Laag toevoegen"},w.default.createElement(x.Button,{icon:!0,onClick:()=>{return r=t.layerView,n=t.isAdded,a=t.item.id,void(n?r.then((t=>{e.view.map.remove(t),c((e=>e.map((e=>e.item.id===a?Object.assign(Object.assign({},e),{isAdded:!1}):e))))})):r.then((t=>{e.view.map.add(t,0),c((e=>e.map((e=>e.item.id===a?Object.assign(Object.assign({},e),{isAdded:!0}):e))))})));var r,n,a},style:{fontSize:"24px",background:"none",border:"none",textShadow:"0.5px 0.5px",bottom:"5px",position:"absolute",left:"20px"}},t.isAdded?"-":"+")),w.default.createElement(x.Tooltip,{placement:"bottom",title:t.isFav?"Verwijderen uit Favorieten":"Toevoegen aan Favorieten"},w.default.createElement(x.Button,{onClick:()=>d(l.credential.token,l.user.favGroupId,t.item.id,t.isFav),icon:!0,type:"tertiary",style:{bottom:"5px",position:"absolute",right:"16px"}},w.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",className:"bi bi-star",viewBox:"0 0 16 16"},t.isFav?w.default.createElement("path",{style:{fill:"rgb(250, 215, 23)"},d:"M15.633 6.718l-3.666 3.176 1.107 4.732a.632.632 0 0 1-.221.68.572.572 0 0 1-.34.11.72.72 0 0 1-.373-.111l-4.165-2.533-4.163 2.532a.607.607 0 0 1-.936-.676l1.107-4.734L.317 6.718a.633.633 0 0 1-.22-.68.63.63 0 0 1 .578-.418l4.824-.406 1.9-4.537a.619.619 0 0 1 1.154 0l1.898 4.537 4.824.406a.606.606 0 0 1 .358 1.098z"}):w.default.createElement("path",{d:"M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.522-3.356c.33-.314.16-.888-.282-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767-3.686 1.894.694-3.957a.56.56 0 0 0-.163-.505L1.71 6.745l4.052-.576a.53.53 0 0 0 .393-.288L8 2.223l1.847 3.658a.53.53 0 0 0 .393.288l4.052.575-2.906 2.77a.56.56 0 0 0-.163.506l.694 3.957-3.686-1.894a.5.5 0 0 0-.461 0z"})))))))):"loading.....")}var Z=l(1362),J="auto";const{useState:$}=e.React,H=r=>{var n;const[a,o]=$(),[i,s]=$(""),[c,l]=$(!1),[u,d]=$(!1),[p,f]=$({genStatus:!1,RWS:!1,Nationaal:!1,Provincie:!1,Waterschap:!1,ProRail:!1,Open_data:!1,DV_data:!1,Omgevingsmanagement:!1,Technisch_management:!1}),[m,g]=$([]),[v,h]=$(!1);(0,w.useEffect)((()=>{const e=[];for(let t in p)"genStatus"!==t.toString()&&e.push(t.toString());g(e)}),[]),(0,w.useEffect)((()=>{let e=!1;for(let t in p)if(p[t]){e=!0;break}h(e)}),[p]);const y={fontSize:"12px",font:"bold",background:"rgb(243, 243, 243)",border:"solid",borderColor:"rgb(243, 243, 243)",borderRadius:"25px",marginRight:"20px",transition:"background-color 0.2s ease"},b=Object.assign(Object.assign({},y),{background:"#faf19b",borderColor:"rgba(243, 243, 243, 0)"}),j={fontSize:"12px",font:"bold",background:"rgb(243, 243, 243)",border:"solid",borderColor:"rgb(243, 243, 243)",borderRadius:"25px",marginBottom:"12px",display:"block",width:J,transition:"background-color 0.2s ease"},E=Object.assign(Object.assign({},j),{background:"#faf19b",borderColor:"rgba(243, 243, 243, 0)"});return e.React.createElement(e.React.Fragment,null,e.React.createElement("div",{className:"filters",style:{backgroundColor:"rgb(243, 243, 243)",display:"inline-flex",width:"100%"}},e.React.createElement("input",{className:"search-bar",type:"text",placeholder:"Search data",onChange:e=>s(e.target.value.toLowerCase())}),e.React.createElement("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/0/0b/Search_Icon.svg/750px-Search_Icon.svg.png",style:{height:"18px",position:"absolute",left:"30px",top:"5px"}})),e.React.createElement("div",{className:"filtersButtons",style:{padding:"3px",justifyContent:"center",alignItems:"center",display:"flex"}},e.React.createElement(x.Button,{icon:!0,onAuxClick:Z.color,onClick:()=>{l(!c)},style:c?b:y},"Mijn favorieten"),e.React.createElement(x.Button,{icon:!0,onClick:()=>{d(!u)},style:u?b:y},"Toegevoegd"),e.React.createElement(x.Dropdown,{activeIcon:!0,direction:"right",menuItemCheckMode:"multiCheck",menuRole:"menu"},e.React.createElement(x.DropdownButton,{style:v?b:y},"CategorieÃ«n"),e.React.createElement(x.DropdownMenu,{style:{borderRadius:"20px",width:J,padding:"13px"},offset:[0,0]},m.map((t=>e.React.createElement(x.Button,{onClick:()=>{return e=t.toString(),void(p[e]?f((t=>Object.assign(Object.assign({},t),{[e]:!1}))):f((t=>Object.assign(Object.assign({},t),{[e]:!0}))));var e},style:p[t]?E:j},t)))))),e.React.createElement("div",{className:"widget-body"},r.useMapWidgetIds&&1===r.useMapWidgetIds.length&&e.React.createElement(t.JimuMapViewComponent,{useMapWidgetId:null===(n=r.useMapWidgetIds)||void 0===n?void 0:n[0],onActiveViewChange:e=>{e&&o(e)}}),e.React.createElement("div",{className:"gallery-container-my-fav",id:"Items"},e.React.createElement(q,{jimuMapViewObject:a,filterQuery:i,filterFav:c,filterAdded:u,categoriesFilters:p,catFilterStatus:v,groupDetails:{query:r.config.groupTitle,id:r.config.groupID,groupID2:r.config.groupID2}}))))};function Q(e){l.p=e}})(),u})())}}}));