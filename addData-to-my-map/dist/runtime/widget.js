/*! For license information please see widget.js.LICENSE.txt */
System.register(["jimu-core","jimu-arcgis","esri/portal/Portal","esri/layers/Layer.js","jimu-ui","jimu-core/react"],(function(e,t){var n={},r={},a={},o={},i={},s={};return{setters:[function(e){n.React=e.React},function(e){r.JimuMapViewComponent=e.JimuMapViewComponent},function(e){a.default=e.default},function(e){o.default=e.default},function(e){i.Button=e.Button,i.Card=e.Card,i.CardBody=e.CardBody,i.Tooltip=e.Tooltip},function(e){s.default=e.default,s.useEffect=e.useEffect,s.useState=e.useState}],execute:function(){e((()=>{var e={4184:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)){if(n.length){var i=a.apply(null,n);i&&e.push(i)}}else if("object"===o){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var s in n)r.call(n,s)&&n[s]&&e.push(s)}}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(n=function(){return a}.apply(t,[]))||(e.exports=n)}()},7796:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(8081),a=n.n(r),o=n(3645),i=n.n(o)()(a());i.push([e.id,'.gallery-container-my-fav{display:grid;grid-template-columns:1fr 1fr;column-gap:15px;row-gap:15px;width:auto;justify-content:space-between;margin-bottom:70px}.search-bar{border-radius:15px;display:flex;box-shadow:none;width:100%;margin:0px 50px 0px 20px;border:solid #f3f3f3;background-color:rgba(255,255,255,.979);background-image:url("https://upload.wikimedia.org/wikipedia/commons/thumb/0/0b/Search_Icon.svg/750px-Search_Icon.svg.png");text-indent:25px}.widget-body{height:100%;overflow-y:scroll;margin:15px;margin-bottom:300px}@media(max-width: 500px){.gallery-container-my-fav{grid-template-columns:1fr}}',""]);const s=i},3645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,a,o){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(r)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(i[c]=!0)}for(var l=0;l<e.length;l++){var u=[].concat(e[l]);r&&i[u[0]]||(void 0!==o&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=o),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),a&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=a):u[4]="".concat(a)),t.push(u))}},t}},8081:e=>{"use strict";e.exports=function(e){return e[1]}},2703:(e,t,n)=>{"use strict";var r=n(414);function a(){}function o(){}o.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,o,i){if(i!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:a};return n.PropTypes=n,n}},5697:(e,t,n)=>{e.exports=n(2703)()},414:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},3379:e=>{"use strict";var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var o={},i=[],s=0;s<e.length;s++){var c=e[s],l=r.base?c[0]+r.base:c[0],u=o[l]||0,d="".concat(l," ").concat(u);o[l]=u+1;var p=n(d),f={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==p)t[p].references++,t[p].updater(f);else{var m=a(f,r);r.byIndex=s,t.splice(s,0,{identifier:d,updater:m,references:1})}i.push(d)}return i}function a(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,a){var o=r(e=e||[],a=a||{});return function(e){e=e||[];for(var i=0;i<o.length;i++){var s=n(o[i]);t[s].references--}for(var c=r(e,a),l=0;l<o.length;l++){var u=n(o[l]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}o=c}}},569:e=>{"use strict";var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},609:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},3565:(e,t,n)=>{"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},7795:e=>{"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var a=void 0!==n.layer;a&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,a&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},4589:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},5139:e=>{"use strict";e.exports=o},9383:e=>{"use strict";e.exports=a},6826:e=>{"use strict";e.exports=r},8891:e=>{"use strict";e.exports=n},1315:e=>{"use strict";e.exports=s},726:e=>{"use strict";e.exports=i}},t={};function c(n){var r=t[n];if(void 0!==r)return r.exports;var a=t[n]={id:n,exports:{}};return e[n](a,a.exports,c),a.exports}c.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return c.d(t,{a:t}),t},c.d=(e,t)=>{for(var n in t)c.o(t,n)&&!c.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},c.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),c.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.p="",c.nc=void 0;var l={};return c.p=window.jimuConfig.baseUrl,(()=>{"use strict";c.r(l),c.d(l,{__set_webpack_public_path__:()=>H,default:()=>$});var e=c(8891),t=c(6826),n=c(3379),r=c.n(n),a=c(7795),o=c.n(a),i=c(569),s=c.n(i),u=c(3565),d=c.n(u),p=c(609),f=c.n(p),m=c(4589),v=c.n(m),y=c(7796),g={};g.styleTagTransform=v(),g.setAttributes=d(),g.insert=s().bind(null,"head"),g.domAPI=o(),g.insertStyleElement=f(),r()(y.Z,g),y.Z&&y.Z.locals&&y.Z.locals;var h=c(9383),b=c(5139),x=c(726),w=c(1315);function E(){return E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},E.apply(this,arguments)}function S(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}var j=c(5697),T=c.n(j),C=c(4184),M=c.n(C);function O(e,t){return void 0===e&&(e=""),void 0===t&&(t=undefined),t?e.split(" ").map((function(e){return t[e]||e})).join(" "):e}var I="object"==typeof window&&window.Element||function(){};T().oneOfType([T().string,T().func,function(e,t,n){if(!(e[t]instanceof I))return new Error("Invalid prop `"+t+"` supplied to `"+n+"`. Expected prop to be an instance of Element. Validation failed.")},T().shape({current:T().any})]);var R=T().oneOfType([T().func,T().string,T().shape({$$typeof:T().symbol,render:T().func}),T().arrayOf(T().oneOfType([T().func,T().string,T().shape({$$typeof:T().symbol,render:T().func})]))]);"undefined"==typeof window||!window.document||window.document.createElement;var _=["className","cssModule","tag"],k={tag:R,className:T().string,cssModule:T().object},N=function(e){var t=e.className,n=e.cssModule,r=e.tag,a=S(e,_),o=O(M()(t,"card-title"),n);return w.default.createElement(r,E({},a,{className:o}))};N.propTypes=k,N.defaultProps={tag:"div"};const P=N;var F=["className","cssModule","tag"],L={tag:R,className:T().string,cssModule:T().object},A=function(e){var t=e.className,n=e.cssModule,r=e.tag,a=S(e,F),o=O(M()(t,"card-subtitle"),n);return w.default.createElement(r,E({},a,{className:o}))};A.propTypes=L,A.defaultProps={tag:"div"};const V=A;var B=["className","cssModule","tag"],W={tag:R,className:T().string,cssModule:T().object},q=function(e){var t=e.className,n=e.cssModule,r=e.tag,a=S(e,B),o=O(M()(t,"card-text"),n);return w.default.createElement(r,E({},a,{className:o}))};q.propTypes=W,q.defaultProps={tag:"p"};const U=q;var z=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((r=r.apply(e,t||[])).next())}))};const Z={query:"InfraDOK Portal Content",id:"18aecdfb80ae464f8de86d8a9b91de80"};function D({jimuMapViewObject:e,filterQuery:t,filterFav:n}){const[r,a]=(0,w.useState)([]),[o,i]=(0,w.useState)({}),s=(e,t,n,o,i)=>z(this,void 0,void 0,(function*(){if(o){const o=yield fetch("https://assets.duravermeer.nl/portal/sharing/rest/content/items/"+n+"/unshare?f=json&token="+e,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"groups="+t});if(200===o.status&&0==(yield o.json()).notUnsharedFrom.length){const e=[...r];e[i].isFav=!1,a(e)}}else{const o=yield fetch("https://assets.duravermeer.nl/portal/sharing/rest/content/items/"+n+"/share?f=json&token="+e,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"groups="+t});if(200===o.status&&0==(yield o.json()).notSharedWith.length){const e=[...r];e[i].isFav=!0,a(e)}}}));return(0,w.useEffect)((()=>{(()=>{z(this,void 0,void 0,(function*(){const e=new h.default,t=yield e.load();i(t);let n=(yield t.user.queryFavorites()).results.map((e=>e.id));(yield t.queryGroups(Z)).results.map((e=>{e.title===Z.query&&e.queryItems({num:100}).then((e=>{e.results.map((e=>{if(e.isLayer){const t=b.default.fromPortalItem({portalItem:e});n.includes(e.id)?a((n=>[...n,{item:e,layerView:t,isFav:!0,isAdded:!1}])):a((n=>[...n,{item:e,layerView:t,isFav:!1}]))}}))}))}))}))})()}),[]),w.default.createElement(w.default.Fragment,null," ",e?r.filter((e=>{var n;return e.item.title.toLowerCase().includes(t)||(null===(n=e.item.snippet)||void 0===n?void 0:n.toLowerCase().includes(t))})).filter((e=>n?!!e.isFav:e)).map(((t,n)=>w.default.createElement(x.Card,{key:t.item.id,color:"#f6f6f6",style:{width:"200px",borderRadius:"15px",boxShadow:"2px 2px 0px rgb(243, 243, 243)"}},w.default.createElement("img",{alt:"Thumbnail not available",src:t.item.thumbnailUrl,style:{height:"120px",marginTop:"25px"}}),w.default.createElement(x.CardBody,null,w.default.createElement(P,{tag:"h4",style:{height:"4lh"}},t.item.title),w.default.createElement(V,{className:"mb-2 text-muted",tag:"h6"}),w.default.createElement(U,null,w.default.createElement("section",null,w.default.createElement("details",null,w.default.createElement("summary",null,"Meer details"),t.item.snippet))),w.default.createElement(x.Tooltip,{placement:"bottom",title:t.isAdded?"Laag verwijderen":"Laag toevoegen"},w.default.createElement(x.Button,{icon:!0,onClick:()=>((t,n,o)=>{o?t.then((t=>{e.view.map.remove(t);const o=[...r];o[n].isAdded=!1,a(o)})):t.then((t=>{e.view.map.add(t,0);const o=[...r];o[n].isAdded=!0,a(o)}))})(t.layerView,n,t.isAdded),style:{fontSize:"24px",background:"none",border:"none",textShadow:"0.5px 0.5px"}},t.isAdded?"-":"+")),w.default.createElement(x.Tooltip,{placement:"bottom",title:t.isFav?"Verwijderen uit Favorieten":"Toevoegen aan Favorieten"},w.default.createElement(x.Button,{onClick:()=>s(o.credential.token,o.user.favGroupId,t.item.id,t.isFav,n),icon:!0,type:"tertiary",style:{float:"right"}},w.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",className:"bi bi-star",viewBox:"0 0 16 16"},t.isFav?w.default.createElement("path",{style:{fill:"rgb(250, 215, 23)"},d:"M15.633 6.718l-3.666 3.176 1.107 4.732a.632.632 0 0 1-.221.68.572.572 0 0 1-.34.11.72.72 0 0 1-.373-.111l-4.165-2.533-4.163 2.532a.607.607 0 0 1-.936-.676l1.107-4.734L.317 6.718a.633.633 0 0 1-.22-.68.63.63 0 0 1 .578-.418l4.824-.406 1.9-4.537a.619.619 0 0 1 1.154 0l1.898 4.537 4.824.406a.606.606 0 0 1 .358 1.098z"}):w.default.createElement("path",{d:"M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.522-3.356c.33-.314.16-.888-.282-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767-3.686 1.894.694-3.957a.56.56 0 0 0-.163-.505L1.71 6.745l4.052-.576a.53.53 0 0 0 .393-.288L8 2.223l1.847 3.658a.53.53 0 0 0 .393.288l4.052.575-2.906 2.77a.56.56 0 0 0-.163.506l.694 3.957-3.686-1.894a.5.5 0 0 0-.461 0z"})))))))):"loading.....")}const{useState:J}=e.React,$=n=>{var r;const[a,o]=J(),[i,s]=J(""),[c,l]=J(!1);return e.React.createElement(e.React.Fragment,null,e.React.createElement("div",{className:"filters",style:{backgroundColor:"rgb(243, 243, 243)",display:"inline-flex",width:"100%"}},e.React.createElement("input",{className:"search-bar",type:"text",placeholder:"Search data",onChange:e=>s(e.target.value.toLowerCase())}),e.React.createElement("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/0/0b/Search_Icon.svg/750px-Search_Icon.svg.png",style:{height:"18px",position:"absolute",left:"30px",top:"5px"}})),e.React.createElement("div",null,e.React.createElement(x.Button,{icon:!0,onClick:()=>{l(!c)},style:{fontSize:"12px",font:"bold",background:"rgb(243, 243, 243)",border:"solid",borderColor:"rgb(243, 243, 243)",borderRadius:"25px",marginRight:"20px"}},"Mijn favorieten")),e.React.createElement("div",{className:"widget-body"},n.useMapWidgetIds&&1===n.useMapWidgetIds.length&&e.React.createElement(t.JimuMapViewComponent,{useMapWidgetId:null===(r=n.useMapWidgetIds)||void 0===r?void 0:r[0],onActiveViewChange:e=>{e&&o(e)}}),e.React.createElement("div",{className:"gallery-container-my-fav",id:"Items"},e.React.createElement(D,{jimuMapViewObject:a,filterQuery:i,filterFav:c}))))};function H(e){c.p=e}})(),l})())}}}));